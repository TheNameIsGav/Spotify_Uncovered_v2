(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,n){},137:function(e,t,n){},141:function(e,t,n){},143:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(73),c=n.n(o),i=(n(92),n(16)),s=(n(94),n(46)),l=n.n(s),u="https://accounts.spotify.com/authorize",m=["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"],f=function(){return window.location.hash.substring(1).split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},d="".concat(u,"?client_id=").concat("c4cbffae207c414eb633445b69de2543","&redirect_uri=").concat("https://brendanpotter00.github.io/Spotify_Uncovered_v2/","&scope=").concat(m.join("%20"),"&response_type=token&show_dialog=true"),p="".concat(u,"?client_id=").concat("c4cbffae207c414eb633445b69de2543","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(m.join("%20"),"&response_type=token&show_dialog=true"),g=(n(96),n(174));var h=function(){return r.a.createElement("div",{className:"login"},r.a.createElement("img",{src:"https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_White.png",alt:"Spotify Logo"}),r.a.createElement(g.a,{variant:"contained",href:d,color:"primary"},"login with spotify"),r.a.createElement("button",{className:"spotify-button"},r.a.createElement("a",{href:p},"Login for testing")))},v=n(19),b=n(6);n(61),n(72),n(71),n(133);n(179),n(183),n(182),n(177),n(180),n(181),n(178);var y=n(28);n(137),n(139),n(141);var E=function(e){var t=e.props,n=Object(a.useState)(!1),o=Object(i.a)(n,2),c=o[0],s=o[1],l=t.energy,u=t.valence,m=t.loudness;function f(e){return e<=25}function d(e){return e<=40&&e>25}function p(e){return e<=55&&e>40}function g(e){return e<=70&&e>55}function h(e){return e>70}return r.a.createElement("div",{className:"phrase-container"},c?r.a.createElement("div",{className:"phrase"},d(u)&&p(l)&&d(m)?"Feeling kinda meh, huh? It's okay we've all been there":(f(l)||d(l))&&(f(m)||d(m)||p(m))&&(g(u)||h(u))?"I think you could stand to spice it up a bit. Not EVERY song needs to be a slow song":(g(l)||h(l))&&(g(u)||h(u))&&(f(m)||d(m)||p(m))?"Aww you're happy AND energetic?? That's so nice... I guess :)":(g(l)||h(l))&&(g(m)||h(m))&&(f(u)||d(u)||p(u))?"Have you heard of 'chill'? You could use it":(f(l)||d(l))&&(f(u)||d(u)||p(u))&&(g(m)||h(m))?"You seem like you could use a pick me up. Grab a coffee and go for a walk":(g(u)||h(u))&&(p(l)||g(l)||h(l))?"Your music suggests you are doing great. Way to embrace 'fake it till you make it'":p(u)&&p(m)&&p(l)?"Nothin wrong with floating in the middle":(p(u)||g(u))&&p(m)&&p(l)||(p(m)||g(m))&&p(u)&&p(l)||(p(l)||g(l))&&p(m)&&p(u)?"Congrats! You're just barely not basic :)":p(m)&&p(l)?"Ahhh so you're the mellow type":h(l)?"Maybe you should lay off the caffeine for a bit, just a suggestion":h(m)?"Wow... that's really loud. Maybe take a break?":f(u)||d(u)?"You seem a bit sad, might I suggest Spotify's 'Mood Booster' playlist":"I like your tunes!"):r.a.createElement("button",{className:"phraseButton",onClick:function(){s(!0)}},"analyze"))};function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var k=function(e){function t(e){return Math.round(e.reduce(function(e,t){return e+t},0)/e.length)}var n,a=[],o=[],c=[],i=w(e.props);try{for(i.s();!(n=i.n()).done;){var s=n.value;a.push(s.energy),o.push(s.valence),c.push(s.loudness)}}catch(d){i.e(d)}finally{i.f()}var l=t(a),u=t(o),m=t(c),f={energy:l,valence:u,loudness:m};return r.a.createElement("div",null,r.a.createElement("div",{className:"bars"},r.a.createElement("div",{className:"firstbar"},r.a.createElement(y.a,{className:"circleBar",value:l,text:"".concat(l),background:!0,backgroundPadding:6,styles:Object(y.b)({rotation:1,strokeLinecap:"round",textSize:"1.8rem",pathTransitionDuration:.5,backgroundColor:"#FDA766",textColor:"#fff",pathColor:"#fff",trailColor:"transparent"})}),r.a.createElement("h3",null," Energy ")),r.a.createElement("div",{className:"secondbar"},r.a.createElement(y.a,{className:"circleBar",value:u,text:"".concat(u),background:!0,backgroundPadding:6,styles:Object(y.b)({rotation:1,strokeLinecap:"round",textSize:"1.8rem",pathTransitionDuration:.5,backgroundColor:"#FD9346",textColor:"#fff",pathColor:"#fff",trailColor:"transparent"})}),r.a.createElement("h3",null," Happiness ")),r.a.createElement("div",{className:"thirdbar"},r.a.createElement(y.a,{className:"circleBar",value:m,text:"".concat(m),background:!0,backgroundPadding:6,styles:Object(y.b)({rotation:1,strokeLinecap:"round",textSize:"1.8rem",pathTransitionDuration:.5,backgroundColor:"#FD7F2C",textColor:"#fff",pathColor:"#fff",trailColor:"transparent"})}),r.a.createElement("h3",null," Loudness "))),r.a.createElement(E,{props:f}))};n(143);var O=n(11),S=n(168),C=n(184),A=n(185),N=n(186),I=n(175),x=n(49),M=n.n(x);function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var _=Object(O.a)("div")(function(e){var t=e.theme;return Object(b.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(S.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(S.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})}),R=Object(O.a)("div")(function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),B=Object(O.a)(I.a)(function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(b.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}});var F=function(e){var t=e.props,n=Object(a.useState)(""),o=Object(i.a)(n,2),c=o[0],s=o[1],l=Object(a.useState)([]),u=Object(i.a)(l,2),m=u[0],f=u[1],d=Object(a.useState)([]),p=Object(i.a)(d,2),g=(p[0],p[1],t.spotify);Object(a.useEffect)(function(){f([]),g.searchTracks(c,{limit:3,offset:1}).then(function(e){e.tracks.items.map(function(e){g.getAudioFeaturesForTrack(e.id).then(function(t){var n={id:e.id,name:e.name,artists:e.artists[0].name,energy:t.energy,loudness:t.loudness,valence:t.valence,img:e.album.images[0].url},a=m.map(function(e){return e.id}),r=(m.map(function(e){return e.name}),m.filter(function(e,t){var n=e.id;return!a.includes(n,t+1)}));f(function(e){return[].concat(Object(v.a)(e),[n])}),r.length>=8&&(r.slice(-3),console.log("call-------------------------------")),console.log(m)})})})},[c]);var h,b=[],y=T(m);try{for(y.s();!(h=y.n()).done;){var E=h.value,w=r.a.createElement("div",{class:"top20Row"},r.a.createElement("div",{class:"top20Img"},r.a.createElement("img",{src:E.img,alt:"Song Cover for"+E.name})),r.a.createElement("div",{class:"songInfo"},r.a.createElement("div",{class:"songName"},E.name),r.a.createElement("div",{class:"songArtist"},E.artists)),r.a.createElement("div",{class:"songMetrics"},r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"stringName"},"Energy: "),r.a.createElement("div",{class:"stat"},E.energy)),r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"stringName"},"Loudness: "),r.a.createElement("div",{class:"stat"},E.loudness)),r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"stringName"},"Happiness: "),r.a.createElement("div",{class:"stat"},E.valence))));b.push(w)}}catch(j){y.e(j)}finally{y.f()}return r.a.createElement("div",null,r.a.createElement(C.a,{position:"static"},r.a.createElement(A.a,null,r.a.createElement(N.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}}},"spotify uncovered"),r.a.createElement(_,null,r.a.createElement(R,null,r.a.createElement(M.a,null)),r.a.createElement(B,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"},onChange:function(e){s(e.target.value)},value:c})))),r.a.createElement("div",{className:"searchResultsContainer"},r.a.createElement("div",{class:"topResults"},b)))},D=n(187);function Y(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}Object(O.a)("div")(function(e){var t=e.theme;return Object(b.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(S.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(S.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})}),Object(O.a)("div")(function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),Object(O.a)(I.a)(function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(b.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}});var U=function(e){var t=e.props,n=t.spotify,o=Object(a.useState)([]),c=Object(i.a)(o,2),s=c[0],l=c[1];function u(e){return Math.round(100*e)}function m(e){var t=function(e){return Math.pow(10,-1*e/10-12)}(e)*Math.pow(10,12)*10;return(t=Math.round(t/14*10))>=100&&(t=100),t}Object(a.useEffect)(function(){n.getMyTopTracks().then(function(e){e.items.map(function(e){n.getAudioFeaturesForTrack(e.id).then(function(t){var n={id:e.id,name:e.name,artists:e.artists[0].name,energy:t.energy,loudness:t.loudness,acousticness:t.acousticness,valence:t.valence,dancibility:t.dancibility,instrumentalness:t.instrumentalness,img:e.album.images[0].url};l(function(e){return[].concat(Object(v.a)(e),[n])})})})},function(e){console.log("Error:",e)})},[]);var f,d=[],p=[],g=0,h=0,b=0,y=Y(s);try{for(y.s();!(f=y.n()).done;){var E=f.value;g=u(E.energy),h=u(E.valence),b=m(E.loudness);var w=r.a.createElement("div",{class:"top20Row"},r.a.createElement("div",{class:"top20Img"},r.a.createElement("img",{src:E.img,alt:"Song Cover for"+E.name})),r.a.createElement("div",{class:"songInfo"},r.a.createElement("div",{class:"songName"},E.name),r.a.createElement("div",{class:"songArtist"},E.artists)),r.a.createElement("div",{class:"songMetrics"},r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"stringName"},"Energy: "),r.a.createElement("div",{class:"stat"},g)),r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"stringName"},"Loudness: "),r.a.createElement("div",{class:"stat"},b)),r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"stringName"},"Happiness: "),r.a.createElement("div",{class:"stat"},h))));p.push(w);var j={name:E.name,artists:E.artists,energy:g,loudness:b,valence:h,img:E.img};d.push(j)}}catch(O){y.e(O)}finally{y.f()}return r.a.createElement("div",{className:"dashboard_container"},r.a.createElement(D.a,{sx:{flexGrow:1}},r.a.createElement(F,{props:t})),r.a.createElement(k,{props:d}),r.a.createElement("div",{class:"top20Table"},p))},G=n(149),H=n(13),P=Object(G.a)({palette:{primary:{light:"#DF7C52",main:"#d85c27",dark:"#97401B",contrastText:"#fff"},secondary:{light:"#587CA5",main:"#2f5c8f",dark:"#204064",contrastText:"#fff"}}}),W=new l.a;var $=function(){var e=a.useState(null),t=Object(i.a)(e,2),n=t[0],r=t[1],o=a.useState(null),c=Object(i.a)(o,2),s=(c[0],c[1]);a.useEffect(function(){var e=f();window.location.hash="";var t=e.access_token;t&&(r(t),W.setAccessToken(t),W.getMe().then(function(e){s(e)}))},[]);var l={spotify:W,token:n};return a.createElement(H.c,{theme:P},a.createElement("div",{className:"App"},n?a.createElement(U,{props:l}):a.createElement(h,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root"))},71:function(e,t,n){},85:function(e,t,n){e.exports=n(150)},92:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){}},[[85,2,1]]]);
//# sourceMappingURL=main.d5d7632d.chunk.js.map